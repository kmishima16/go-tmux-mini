# Go-Tmux-Mini

Go言語で実装された軽量なtmux風ターミナルマルチプレクサです。TUI（Terminal User Interface）アプリケーションの学習プロジェクトとして、tmuxの核心機能であるペイン分割と管理機能を実装しています。

## 📺 デモ

### 動作イメージ
![動作イメージ](https://gyazo.com/a4dd2b7f29b4a42650172fe6cad8efc8.png)

### 動作動画
![動作動画](https://gyazo.com/bf3a6fb3b3c3b793b500097eda9d59a4.gif)

## ✨ 機能

- **ペイン分割**: 水平・垂直方向にターミナルを分割
- **ペイン管理**: アクティブペインの切り替えと視覚的なハイライト
- **プレフィックスキー**: tmuxライクなキーバインド（`Ctrl+B`）
- **疑似端末**: 各ペインで独立したbashプロセスを実行
- **TUIインターフェース**: tcellライブラリによる高性能なターミナル描画
- **デバッグログ**: 開発・デバッグ用の詳細ログ出力

## 🚀 インストール・実行

### 必要条件

- Go 1.19以降
- Linux/Unix系OS（WSL対応）

### 実行方法

```bash
# リポジトリをクローン
git clone https://github.com/kmishima16/go-tmux-mini.git
cd go-tmux-mini

# 依存関係のインストール
go mod tidy

# 実行
go run .

# またはビルドして実行
go build -o tmux-mini .
./tmux-mini
```

## 🎮 使用方法

### 基本操作

| キー操作 | 機能 |
|---------|------|
| `Ctrl+C` | アプリケーション終了 |
| `Ctrl+B` | プレフィックスモード有効化 |

### ペイン操作（プレフィックスキー後）

| キー操作 | 機能 |
|---------|------|
| `%` | 水平分割（左右に分割） |
| `"` | 垂直分割（上下に分割） |
| `←` `→` `↑` `↓` | ペイン間のナビゲーション |

### 操作例

1. `Ctrl+B` → `%` : 現在のペインを左右に分割
2. `Ctrl+B` → `"` : 現在のペインを上下に分割
3. `Ctrl+B` → `→` : 右のペインに移動
4. 通常の文字入力: アクティブペインに入力される

## 🏗️ アーキテクチャ

### 技術スタック

- **[tcell](https://github.com/gdamore/tcell)**: 高性能なターミナルUI操作
- **[pty](https://github.com/creack/pty)**: 疑似端末（PTY）管理
- **[golang.org/x/term](https://golang.org/x/term)**: ターミナル制御ユーティリティ

### 設計概要

```
┌─────────────────┐    ┌──────────────┐    ┌─────────────┐
│  tcell Events   │───▶│ Event Loop   │───▶│ Pane Manager│
└─────────────────┘    └──────────────┘    └─────────────┘
                              │                     │
                              ▼                     ▼
┌─────────────────┐    ┌──────────────┐    ┌─────────────┐
│ Debug Logger    │◀───│ Main Logic   │───▶│ PTY Processes│
└─────────────────┘    └──────────────┘    └─────────────┘
```

### 主要コンポーネント

- **Pane構造体**: 個別のターミナルセッション管理（位置、サイズ、PTY、出力バッファ）
- **イベントシステム**: キー入力、PTY出力、ウィンドウリサイズの統一処理
- **描画システム**: ASCII文字による境界線描画（アクティブ: 黄色、非アクティブ: 白色）
- **プレフィックスモード**: tmux風のコマンドモード実装

## 🛠️ 開発

### デバッグ

```bash
# デバッグログの監視
tail -f debug.log

# アプリケーション実行中の詳細ログが出力されます
```

### プロジェクト構成

- `main.go`: 全機能を含むシングルファイルアーキテクチャ（~434行）
- `go.mod`, `go.sum`: Go依存関係管理
- `debug.log`: 実行時デバッグ出力
- `CLAUDE.md`: 開発ガイドライン

### 実装状況

✅ **完了済み**
- 基本的なPTY + tcell統合
- ペインデータ構造と管理
- 境界線描画システム
- プレフィックスキーシステム
- ペイン分割ロジック
- フォーカス管理とナビゲーション

🔧 **改善予定**
- PTY出力レンダリングの最適化
- 分割ペインのフォーカス切り替えのデバッグ
- 入出力機能の安定性向上

## 📝 注意事項

- これは学習目的のプロジェクトです
- 本格的な使用よりも、TUI/PTYアーキテクチャの理解を目的としています
- アプリケーションはrawターミナルモードを使用するため、通常のターミナルショートカットは無効になります
- WSL環境での動作確認済み

## 📄 ライセンス

このプロジェクトはオープンソースです。詳細はライセンスファイルを参照してください。

## 🤝 コントリビューション

バグ報告や改善提案は Issues または Pull Requests でお気軽にお知らせください。

---

*3時間コーディングチャレンジとして開発されたプロジェクトです*
